<html>
<head>
  <meta charset="UTF-8">
  <link href='https://fonts.googleapis.com/css?family=Alice' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="main.css">


  <script language="javascript" type="text/javascript" src="js/libraries/p5.js"></script>
  <script language="javascript" type="text/javascript" src="js/libraries/jscolor.js"></script>
  <!-- uncomment lines below to include extra p5 libraries -->
  <!--<script language="javascript" src="libraries/p5.dom.js"></script>-->
  <!--<script language="javascript" src="libraries/p5.sound.js"></script>-->
  <script language="javascript" type="text/javascript" src="js/shadow.js"></script>
  <script language="javascript" type="text/javascript" src="js/sketch.js"></script>
  <script>
    var p5controller = {
      user: "ben",
      role: "head",
      color:"3A539B",
      shape:"line",
      size:20,
      clear:false
      };

    function update(jscolor) {
      document.body.style.backgroundColor = '#' + jscolor
      p5controller.color = jscolor
    }

    function setColor(hexcolor) {
      update(hexcolor);
      document.getElementById('jscolor')
              .jscolor.fromString(hexcolor)
    }

    function setShape(shape) {
      p5controller.shape = shape;
    }

    function setShapeSize(size) {
      p5controller.size = parseInt(size);
    }

    function setClear() {
      p5controller.clear = true;
    }
    
    function saveJSON() {
      var output = JSON.stringify(instructions);
      console.log(instructions);
      console.log(output);
      // save to file using socket.io?
      // need to get connector data and user data in there...
    }

  </script>
  <style> body {padding: 0; margin: 0;} </style>
</head>

<body>
	<h1>Exquisite Corpse</h1>
	<container>
		<div class="toolsContainer">
      <div class="colorPicker">
        <div>
          <button style="background:#CC0000" onclick="setColor('CC0000')">Red</button>
        </div>
        <div>
          <button style="background:#00CC00" onclick="setColor('00CC00')">Green</button>
        </div>
        <div>
          <button style="background:#0000CC" onclick="setColor('0000CC')"><font color="white">Blue</font></button>
        </div>
        <div>
          <button style="background:#CCCC00" onclick="setColor('CCCC00')">Yellow</button>
        </div>
        <div>
          <button style="background:#663300" onclick="setColor('663300')"><font color="white">Brown</font></button>
        </div>
        <div>
          <button style="background:#CC00CC" onclick="setColor('CC00CC')">Purple</button>
        </div>
        <div>
          <input class="jscolor {position:'top'}" id="jscolor" onchange="update(this.jscolor)" value="3A539B" size="5">
        </div>
      </div> <!-- end colorPicker-->
      <div class="shapePicker">
        <div>
          <button style="background:#00CCCC" onclick="setShape('line')">Line</button>
        </div>
        <div>
          <button style="background:#00CCCC" onclick="setShape('rect')">Rectangle</button>
        </div>
        <div>
          <button style="background:#00CCCC" onclick="setShape('circ')">Circle</button>
        </div>
        <div>
          <input type="range" onchange="setShapeSize(this.value)" min="10" max="150" step="1" value="50" autocomplete="off">
        </div>
      </div>
      <button style="background:#00CCCC" onclick="setClear()">Clear</button>
      <button style="background:#00CCCC" onclick="saveJSON()">Finished</button>
    </div> <!-- end toolsContainer-->
		<div id="canvasContainer">
		</div>
	</container>
</body>
</html>
